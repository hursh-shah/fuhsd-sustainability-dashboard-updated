<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Energy Consumption Dashboard</title>
    <link href="https://cdn.jsdelivr.net/npm/daisyui@4.12.10/dist/full.min.css" rel="stylesheet" type="text/css" />
    <script src="https://cdn.tailwindcss.com?plugins=typography"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lottie-web/5.7.4/lottie.min.js"></script>
    <script src="https://unpkg.com/@lottiefiles/lottie-interactivity@latest/dist/lottie-interactivity.min.js"></script>

    <style>
        html {
            scroll-behavior: smooth;
        }

        body {
            background-color: #f5f5f7;
            color: #333;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
        }

        .reveal {
            opacity: 0;
            transform: translateY(100px);
            transition: all 0.6s ease-in-out;
        }

        .reveal.active {
            opacity: 1;
            transform: translateY(0);
        }

        .fade-in {
            animation: fadeIn 2s forwards;
        }

        @keyframes fadeIn {
            0% {
                opacity: 0;
            }

            100% {
                opacity: 1;
            }
        }

        .fade-out {
            animation: fadeOut 3s forwards;
        }

        @keyframes fadeOut {
            0% {
                opacity: 1;
            }

            100% {
                opacity: 0;
            }
        }

        .arrow {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 2rem;
            animation: bounce 2s infinite;
        }

        @keyframes bounce {

            0%,
            20%,
            50%,
            80%,
            100% {
                transform: translateX(-50%) translateY(0);
            }

            40% {
                transform: translateX(-50%) translateY(-10px);
            }

            60% {
                transform: translateX(-50%) translateY(-5px);
            }
        }

        .section {
            margin: 560px 0;
        }

        .hvac-section {
            margin-top: 100px;
            margin-bottom: 1000px;
        }

        .bg-light-grey {
            background-color: #e0e0e0;
        }

        .text-dark-grey {
            color: #333;
        }

        .text-green {
            color: #2e7d32;
        }

        .text-9xl {
            font-size: 7rem;
        }

        .text-5xl {
            font-size: 4rem;
        }

        .text-2xl {
            font-size: 2rem;
        }

        .static-title {
            position: fixed;
            top: 10px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 2rem;
            font-weight: bold;
            display: none;
            color: #2e7d32;
        }

        .visible {
            display: block;
        }

        .navbar {
            background-color: #f5f5f7;
            color: #2e7d32;
            font-weight: bold;
            padding: 1rem;
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
            display: none;
        }

        .navbar.visible {
            display: flex;
            justify-content: center;
            gap: 1rem;
        }

        .nav-link {
            color: #2e7d32;
            font-size: 1.5rem;
            cursor: pointer;
        }
    </style>
</head>

<body>
    <!-- Navigation Bar -->
    <nav id="navbar" class="navbar">
        <a class="nav-link" href="#hvac-section">HVAC</a>
        <a class="nav-link" href="#quick-stats-section">Quick Stats</a>
        <a class="nav-link" href="#energy-bar-chart-section">Energy Bar Chart</a>
        <a class="nav-link" href="#co2-chart-section">CO2 Emissions</a>
        <a class="nav-link" href="#usage-chart-section">Usage Chart</a>
    </nav>

    <!-- Big Heading -->
    <div class="flex justify-center items-center h-screen bg-light-grey relative">
        <h1 id="main-title" class="text-9xl font-bold text-green fade-in">Heating and cooling is <br> kind of a big
            deal.</h1>
        <div class="arrow text-green">↓</div>
    </div>

    <div id="static-title" class="static-title">FUHSD Sustainability</div>

    <!-- HVAC Section -->
    <div id="hvac-section" class="thermostat-container flex flex-row m-20 space-x-6 reveal hvac-section">
        <div class="w-7/12">
            <article class="prose">
                <h1 class="text-dark-grey">HVAC is responsible for <span class="text-green">40%</span> of our energy
                    usage.</h1>
                <p class="text-dark-grey">One degree adjustment in HVAC can save energy equivalent to powering 1000
                    homes.</p>
                <h3 class="font-bold text-dark-grey">Slide the thermometer up or down a few notches to see its carbon
                    impact!</h3>
                <p id="temperatureDisplay" class="text-2xl font-semibold text-dark-grey">Temperature: 72°F</p>
                <p id="co2Impact" class="text-2xl font-bold text-green">Extra CO2: 0 kg</p>
                <button class="btn bg-green-300 text-dark-grey" id="switchSeason">Switch to Winter</button>
            </article>
        </div>
        <div class="thermostat-animation rounded-md" id="thermo-background">
            <div class="my-14" id="lottieThermometer"></div>
        </div>
    </div>

    <!-- Quick Stats Section -->
    <div id="quick-stats-section" class="flex flex-row section reveal">
        <div class="w-1/4 mx-auto my-auto">
            <div class="mb-8">
                <h2 class="text-7xl font-bold text-dark-grey mx-auto">100.4mt</h2>
                <p class="text-md text-dark-grey mx-2">Amount of CO2e produced by FUHSD in the <span class="font-bold">past year</span>, calculated
                    from energy bill data</p>
            </div>
            <p class="text-xl text-dark-grey my-3">The data gathered from our energy bills indicates our current
                consumption trends and areas where we can improve. By analyzing these figures, we can devise strategies
                to enhance our energy efficiency and reduce overall emissions. </p>
            <a class="text-2xl font-bold underline mt-2 text-green" href="#">Learn more</a>
        </div>
        <div class="w-1/4 mx-auto my-auto"> <!--trees-->
            <div class="mb-8">
                <div id="treeAnim"></div>
                <h2 class="text-7xl font-bold text-dark-grey mx-auto">= 100.4 trees</h2>
                <p class="text-md text-dark-grey mx-2">Amount of CO2e produced by FUHSD in the past year, calculated
                    from energy bill data</p>
            </div>
            <a class="text-2xl font-bold underline mt-2 text-green" href="#">Learn more</a>
        </div>
        <div class="w-1/4 mx-auto my-auto"> <!--homes-->
            <div class="mb-8">
                <h2 class="text-7xl font-bold text-dark-grey mx-auto">= 100.4 homes</h2>
                <p class="text-md text-dark-grey mx-2">Amount of CO2e produced by FUHSD in the past year, calculated
                    from energy bill data</p>
            </div>
            <a class="text-2xl font-bold underline mt-2 text-green" href="#">Learn more</a>
        </div>
    </div>

    <!-- Energy Bar Chart Section -->
    <div id="energy-bar-chart-section" class="flex flex-row section reveal">
        <div class="w-7/12 mx-auto">
            <canvas id="energyBarChart"></canvas>
        </div>
        <div class="w-1/3 mx-auto my-auto">
            <h2 class="text-5xl font-bold text-dark-grey mx-auto mb-4">Where does our energy come from?</h2>
            <p class="text-xl text-dark-grey my-3">Understanding the sources of our energy is crucial for making
                informed decisions about our consumption and sustainability practices. By knowing the origins of our
                energy, we can better appreciate the environmental impacts of our choices. </p>
            <a class="text-2xl font-bold underline mt-2 text-green" href="#">Learn more</a>
        </div>
    </div>

    <!-- CO2 Emissions Chart Section -->
    <div id="co2-chart-section" class="flex flex-row section reveal">
        <div class="w-4/5 mx-auto">
            <h2 class="text-2xl font-bold text-dark-grey my-6">Our CO2e emissions from energy use over time, by school
            </h2>
            <div class="inline-flex">
                <p class="text-l font-medium text-dark-grey my-auto mr-3">Toggle schools:</p>
                <button class="btn bg-grey-700 text-2xl text-light-grey" id="toggleMontaVista">MVHS</button>
                <button class="btn bg-grey-700 text-2xl text-light-grey" id="toggleHomestead">HHS</button>
                <button class="btn bg-grey-700 text-2xl text-light-grey" id="toggleCupertino">CHS</button>
                <button class="btn bg-grey-700 text-2xl text-light-grey" id="toggleFremont">FHS</button>
                <button class="btn bg-grey-700 text-2xl text-light-grey" id="toggleLynbrook">LHS</button>
                <button class="btn bg-grey-700 text-2xl text-light-grey" id="toggleDistrictOffice">District-Office</button>

            </div>
            <canvas id="co2Chart"></canvas>
        </div>
        <div class="w-1/5 ml-5 text-lg text-dark-grey">This chart tracks the CO2e emissions from each school over time.
            By toggling different schools, you can see how each one contributes to the overall emissions and identify
            patterns or trends that may inform future energy policies.</div>
    </div>

    <!-- Usage Chart Section -->
    <div id="usage-chart-section" class="section reveal">
        <div class="flex flex-row">
            <div class="w-1/3 m-auto">
                <h2 class="text-2xl font-bold text-dark-grey">Where does our footprint come from?</h2>
                <p class="text-dark-grey text-xl">Our carbon footprint is influenced by several factors, including HVAC,
                    lighting, and electric vehicle charging. Understanding the distribution of these sources helps us
                    target areas for improvement and reduce our overall impact.</p>
            </div>
            <div class="w-5/12 m-auto">
                <canvas id="usageChart"></canvas>
            </div>
        </div>
    </div>

    <div class="section reveal">
        <h1 class="text-8xl font-bold">fdsafdas</h1>
    </div>

    <footer class="footer bg-base-200 text-base-content p-10">
        <aside>
            <svg width="50" height="50" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" fill-rule="evenodd"
                clip-rule="evenodd" class="fill-current">
                <path
                    d="M22.672 15.226l-2.432.811.841 2.515c.33 1.019-.209 2.127-1.23 2.456-1.15.325-2.148-.321-2.463-1.226l-.84-2.518-5.013 1.677.84 2.517c.391 1.203-.434 2.542-1.831 2.542-.88 0-1.601-.564-1.86-1.314l-.842-2.516-2.431.809c-1.135.328-2.145-.317-2.463-1.229-.329-1.018.211-2.127 1.231-2.456l2.432-.809-1.621-4.823-2.432.808c-1.355.384-2.558-.59-2.558-1.839 0-.817.509-1.582 1.327-1.846l2.433-.809-.842-2.515c-.33-1.02.211-2.129 1.232-2.458 1.02-.329 2.13.209 2.461 1.229l.842 2.515 5.011-1.677-.839-2.517c-.403-1.238.484-2.553 1.843-2.553.819 0 1.585.509 1.85 1.326l.841 2.517 2.431-.81c1.02-.33 2.131.211 2.461 1.229.332 1.018-.21 2.126-1.23 2.456l-2.433.809 1.622 4.823 2.433-.809c1.242-.401 2.557.484 2.557 1.838 0 .819-.51 1.583-1.328 1.847m-8.992-6.428l-5.01 1.675 1.619 4.828 5.011-1.674-1.62-4.829z">
                </path>
            </svg>
            <p>FUHSD<br />Committed to serving students</p>
        </aside>
        <nav>
            <h6 class="footer-title">District</h6>
            <a class="link link-hover text-dark-grey">About us</a>
            <a class="link link-hover text-dark-grey">Contact</a>
            <a class="link link-hover text-dark-grey">Jobs</a>
        </nav>
        <nav>
            <h6 class="footer-title">Legal</h6>
            <a class="link link-hover text-dark-grey">Terms of use</a>
            <a class="link link-hover text-dark-grey">Privacy policy</a>
            <a class="link link-hover text-dark-grey">Cookie policy</a>
        </nav>
    </footer>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const lottieAnimation = lottie.loadAnimation({
                container: document.getElementById('lottieThermometer'),
                renderer: 'svg',
                loop: false,
                autoplay: true,
                path: 'https://lottie.host/c16fd91e-2419-4eb1-9540-bb352913bd6c/x92LxRS0s8.json'
            });
    
            let isSummer = false;
            let temperature = 68;
            let startY = 0;
            let moving = false;
    
            function updateTemperatureDisplay() {
                document.getElementById('temperatureDisplay').textContent = `Temperature: ${temperature}°F`;
                const extraCO2 = Math.abs(temperature - (isSummer ? 72 : 68)) * 50;
                document.getElementById('co2Impact').textContent = `Extra CO2: ${extraCO2} kg`;
                const frame = mapTemperatureToFrame(temperature);
                lottieAnimation.goToAndStop(frame, true);
            }
    
            function mapTemperatureToFrame(temp) {
                if (isSummer) {
                    return 16 + (72 - temp) * 3;
                } else {
                    return (temp - 68) * 4;
                }
            }
    
            const thermometer = document.getElementById('lottieThermometer');
            thermometer.addEventListener('mousedown', function (event) {
                startY = event.clientY;
                moving = true;
                event.preventDefault();
            });
    
            document.addEventListener('mousemove', function (event) {
                if (moving) {
                    const diff = startY - event.clientY;
                    const tempChange = Math.sign(diff) * (Math.abs(diff) > 30 ? 1 : 0);
                    if (tempChange != 0) {
                        temperature = Math.min(Math.max(temperature + tempChange, 68), 72);
                        startY = event.clientY;
                        updateTemperatureDisplay();
                    }
                }
            });
    
            document.addEventListener('mouseup', function () {
                moving = false;
            });
    
            document.getElementById('switchSeason').textContent = 'Switch to Summer';
            document.getElementById('switchSeason').addEventListener('click', function () {
                isSummer = !isSummer;
                temperature = isSummer ? 72 : 68;
                this.textContent = isSummer ? 'Switch to Winter' : 'Switch to Summer';
                updateTemperatureDisplay();
            });
    
            updateTemperatureDisplay();
        });

        document.addEventListener('DOMContentLoaded', function () {

            const montaVistaData = [
                { "Date": "8/9/2022", "Total CO2 Emissions": 9722.79 },
                { "Date": "9/8/2022", "Total CO2 Emissions": 28992.69 },
                { "Date": "10/7/2022", "Total CO2 Emissions": 37611.99 },
                { "Date": "11/7/2022", "Total CO2 Emissions": 143706.24 },
                { "Date": "12/8/2022", "Total CO2 Emissions": 178924.59 },
                { "Date": "1/9/2023", "Total CO2 Emissions": 360918.09 },
                { "Date": "2/8/2023", "Total CO2 Emissions": 746859.6 },
                { "Date": "3/9/2023", "Total CO2 Emissions": 465579.45 },
                { "Date": "4/10/2023", "Total CO2 Emissions": 525936.51 },
                { "Date": "5/9/2023", "Total CO2 Emissions": 198408.6 },
                { "Date": "6/8/2023", "Total CO2 Emissions": 45704.25 },
                { "Date": "7/10/2023", "Total CO2 Emissions": 27719.01 }
            ];

            const homesteadData = [
                { "Date": "11/27/2018", "Total Carbon Emissions": 109782.87 },
                { "Date": "12/26/2018", "Total Carbon Emissions": 117015.51 },
                { "Date": "1/27/2019", "Total Carbon Emissions": 135285.42 },
                { "Date": "2/26/2019", "Total Carbon Emissions": 156105.3 },
                { "Date": "3/27/2019", "Total Carbon Emissions": 125009.73 },
                { "Date": "4/28/2019", "Total Carbon Emissions": 91760.91 },
                { "Date": "5/28/2019", "Total Carbon Emissions": 74745.66 },
                { "Date": "6/26/2019", "Total Carbon Emissions": 49515.57 },
                { "Date": "7/28/2019", "Total Carbon Emissions": 55609.35 },
                { "Date": "8/27/2019", "Total Carbon Emissions": 71660.34 },
                { "Date": "9/26/2019", "Total Carbon Emissions": 86186.34 },
                { "Date": "10/27/2019", "Total Carbon Emissions": 96667.86 },
                { "Date": "11/25/2019", "Total Carbon Emissions": 108684.9 },
                { "Date": "12/26/2019", "Total Carbon Emissions": 142120.89 },
                { "Date": "1/27/2020", "Total Carbon Emissions": 155485.68 },
                { "Date": "2/26/2020", "Total Carbon Emissions": 124938.75 },
                { "Date": "3/26/2020", "Total Carbon Emissions": 94468.23 },
                { "Date": "4/27/2020", "Total Carbon Emissions": 55725.84 },
                { "Date": "5/27/2020", "Total Carbon Emissions": 27754.05 },
                { "Date": "6/25/2020", "Total Carbon Emissions": 37725.24 },
                { "Date": "7/26/2020", "Total Carbon Emissions": 28240.95 },
                { "Date": "8/25/2020", "Total Carbon Emissions": 56549.25 },
                { "Date": "9/24/2020", "Total Carbon Emissions": 58001.76 },
                { "Date": "10/26/2020", "Total Carbon Emissions": 60266.7 },
                { "Date": "11/24/2020", "Total Carbon Emissions": 50238.21 },
                { "Date": "12/27/2020", "Total Carbon Emissions": 92313.39 },
                { "Date": "1/26/2021", "Total Carbon Emissions": 73297.32 },
                { "Date": "2/25/2021", "Total Carbon Emissions": 96047.34 },
                { "Date": "3/28/2021", "Total Carbon Emissions": 69944.61 },
                { "Date": "4/27/2021", "Total Carbon Emissions": 72524.13 },
                { "Date": "5/26/2021", "Total Carbon Emissions": 55696.95 },
                { "Date": "6/27/2021", "Total Carbon Emissions": 39375.51 },
                { "Date": "7/27/2021", "Total Carbon Emissions": 25390.53 },
                { "Date": "8/26/2021", "Total Carbon Emissions": 67476.84 },
                { "Date": "9/27/2021", "Total Carbon Emissions": 93899.85 },
                { "Date": "10/26/2021", "Total Carbon Emissions": 94239.12 },
                { "Date": "11/28/2021", "Total Carbon Emissions": 104236.89 },
                { "Date": "12/26/2021", "Total Carbon Emissions": 115733.79 },
                { "Date": "1/25/2022", "Total Carbon Emissions": 115733.04 },
                { "Date": "2/24/2022", "Total Carbon Emissions": 111090.48 },
                { "Date": "3/27/2022", "Total Carbon Emissions": 96327.45 },
                { "Date": "4/26/2022", "Total Carbon Emissions": 69565.29 },
                { "Date": "5/25/2022", "Total Carbon Emissions": 63402.48 },
                { "Date": "6/26/2022", "Total Carbon Emissions": 28421.67 },
                { "Date": "7/26/2022", "Total Carbon Emissions": 15132.72 },
                { "Date": "8/25/2022", "Total Carbon Emissions": 34041.33 },
                { "Date": "9/26/2022", "Total Carbon Emissions": 64034.4 },
                { "Date": "10/25/2022", "Total Carbon Emissions": 61048.41 },
                { "Date": "11/27/2022", "Total Carbon Emissions": 98788.44 },
                { "Date": "12/26/2022", "Total Carbon Emissions": 129459.24 },
                { "Date": "1/25/2023", "Total Carbon Emissions": 125836.02 },
                { "Date": "2/26/2023", "Total Carbon Emissions": 135202.98 },
                { "Date": "3/27/2023", "Total Carbon Emissions": 142728.3 },
                { "Date": "4/26/2023", "Total Carbon Emissions": 111419.7 },
                { "Date": "5/25/2023", "Total Carbon Emissions": 93054.09 },
                { "Date": "6/26/2023", "Total Carbon Emissions": 53215.08 }
            ];

            const cupertinoData = [
                { "Date": " 11/27/2018", "CO2": "31199.67" },
                { "Date": " 12/26/2018", "CO2": "31314.96" },
                { "Date": " 1/27/2019", "CO2": "33856.83" },
                { "Date": " 2/26/2019", "CO2": "59154.75" },
                { "Date": " 3/27/2019", "CO2": "54735.3" },
                { "Date": " 4/28/2019", "CO2": "35915.58" },
                { "Date": " 5/28/2019", "CO2": "22377.24" },
                { "Date": " 6/26/2019", "CO2": "9508.68" },
                { "Date": " 7/28/2019", "CO2": "3892.41" },
                { "Date": " 8/27/2019", "CO2": "7213.86" },
                { "Date": " 9/26/2019", "CO2": "11276.46" },
                { "Date": " 10/27/2019", "CO2": "32105.52" },
                { "Date": " 11/25/2019", "CO2": "41251.86" },
                { "Date": " 12/26/2019", "CO2": "73110.33" },
                { "Date": " 1/27/2020", "CO2": "104985.27" },
                { "Date": " 2/26/2020", "CO2": "75789.45" },
                { "Date": " 3/26/2020", "CO2": "48284.55" },
                { "Date": " 4/27/2020", "CO2": "22563.9" },
                { "Date": " 5/27/2020", "CO2": "4584.15" },
                { "Date": " 6/25/2020", "CO2": "3886.92" },
                { "Date": " 7/26/2020", "CO2": "3557.52" },
                { "Date": " 8/25/2020", "CO2": "3255.57" },
                { "Date": " 9/24/2020", "CO2": "4260.24" },
                { "Date": " 10/26/2020", "CO2": "16859.79" },
                { "Date": " 11/24/2020", "CO2": "50079.78" },
                { "Date": " 12/27/2020", "CO2": "47257.92" },
                { "Date": " 1/26/2021", "CO2": "34427.79" },
                { "Date": " 2/25/2021", "CO2": "30919.68" },
                { "Date": " 3/28/2021", "CO2": "37474.74" },
                { "Date": " 4/27/2021", "CO2": "47900.25" },
                { "Date": " 5/26/2021", "CO2": "34213.68" },
                { "Date": " 6/27/2021", "CO2": "23870.52" },
                { "Date": " 7/27/2021", "CO2": "10765.89" },
                { "Date": " 8/26/2021", "CO2": "10502.37" },
                { "Date": " 9/27/2021", "CO2": "16063.74" },
                { "Date": " 10/26/2021", "CO2": "37957.86" },
                { "Date": " 11/28/2021", "CO2": "44364.69" },
                { "Date": " 12/26/2021", "CO2": "86676.12" },
                { "Date": " 1/25/2022", "CO2": "86840.82" },
                { "Date": " 2/24/2022", "CO2": "77551.74" },
                { "Date": " 3/27/2022", "CO2": "64633.77" },
                { "Date": " 4/26/2022", "CO2": "45698.76" },
                { "Date": " 5/25/2022", "CO2": "41795.37" },
                { "Date": " 6/26/2022", "CO2": "19549.89" },
                { "Date": " 7/26/2022", "CO2": "10529.82" },
                { "Date": " 8/25/2022", "CO2": "11677.23" },
                { "Date": " 9/26/2022", "CO2": "12039.57" },
                { "Date": " 10/25/2022", "CO2": "21251.79" },
                { "Date": " 11/27/2022", "CO2": "63936.54" },
                { "Date": " 12/26/2022", "CO2": "88740.36" },
                { "Date": " 1/25/2023", "CO2": "91287.72" },
                { "Date": " 2/26/2023", "CO2": "109887.84" },
                { "Date": " 3/27/2023", "CO2": "94592.7" },
                { "Date": " 4/26/2023", "CO2": "73566" },
                { "Date": " 5/25/2023", "CO2": "38089.62" },
                { "Date": " 6/26/2023", "CO2": "25193.61" }
            ];

            const districtOfficeData = [
                { "Date": " 11/19/2018", "CO2": 1531.71 },
                { "Date": " 12/19/2018", "CO2": 2119.14 },
                { "Date": " 1/18/2019", "CO2": 2519.91 },
                { "Date": " 2/20/2019", "CO2": 2662.65 },
                { "Date": " 3/21/2019", "CO2": 1833.66 },
                { "Date": " 4/22/2019", "CO2": 1092.51 },
                { "Date": " 5/21/2019", "CO2": 620.37 },
                { "Date": " 6/20/2019", "CO2": 274.5 },
                { "Date": " 7/22/2019", "CO2": 181.17 },
                { "Date": " 8/21/2019", "CO2": 93.33 },
                { "Date": " 9/20/2019", "CO2": 175.68 },
                { "Date": " 10/21/2019", "CO2": 433.71 },
                { "Date": " 11/18/2019", "CO2": 620.37 },
                { "Date": " 12/19/2019", "CO2": 1262.7 },
                { "Date": " 1/21/2020", "CO2": 1877.58 },
                { "Date": " 2/20/2020", "CO2": 1185.84 },
                { "Date": " 3/20/2020", "CO2": 3997.29 },
                { "Date": " 4/21/2020", "CO2": 7085.16 },
                { "Date": " 5/20/2020", "CO2": 52.47 },
                { "Date": " 6/19/2020", "CO2": 823.95 },
                { "Date": " 7/20/2020", "CO2": 2716.26 },
                { "Date": " 8/19/2020", "CO2": 6858.51 },
                { "Date": " 9/18/2020", "CO2": 8658.06 },
                { "Date": " 10/20/2020", "CO2": 13963.71 },
                { "Date": " 11/17/2020", "CO2": 9649.41 },
                { "Date": " 12/18/2020", "CO2": 12213.57 },
                { "Date": " 1/20/2021", "CO2": 11850.27 },
                { "Date": " 2/19/2021", "CO2": 10939.8 },
                { "Date": " 3/22/2021", "CO2": 8656.08 },
                { "Date": " 4/21/2021", "CO2": 6960.93 },
                { "Date": " 5/20/2021", "CO2": 6407.04 },
                { "Date": " 6/21/2021", "CO2": 7033.41 },
                { "Date": " 7/21/2021", "CO2": 4993.68 },
                { "Date": " 8/20/2021", "CO2": 12424.32 },
                { "Date": " 9/21/2021", "CO2": 18654.24 },
                { "Date": " 10/20/2021", "CO2": 21121.62 },
                { "Date": " 11/18/2021", "CO2": 20691.0 },
                { "Date": " 12/20/2021", "CO2": 27108.57 },
                { "Date": " 1/19/2022", "CO2": 28064.52 },
                { "Date": " 2/17/2022", "CO2": 28712.97 },
                { "Date": " 3/21/2022", "CO2": 22689.6 },
                { "Date": " 4/20/2022", "CO2": 21163.29 },
                { "Date": " 5/19/2022", "CO2": 18317.1 },
                { "Date": " 6/17/2022", "CO2": 16809.78 },
                { "Date": " 7/20/2022", "CO2": 15813.93 },
                { "Date": " 8/18/2022", "CO2": 16919.49 },
                { "Date": " 9/20/2022", "CO2": 23485.14 },
                { "Date": " 10/19/2022", "CO2": 20706.72 },
                { "Date": " 11/18/2022", "CO2": 24194.4 },
                { "Date": " 12/19/2022", "CO2": 27492.09 },
                { "Date": " 1/19/2023", "CO2": 27959.88 },
                { "Date": " 2/17/2023", "CO2": 27975.51 },
                { "Date": " 3/21/2023", "CO2": 27432.24 },
                { "Date": " 4/20/2023", "CO2": 24070.26 },
                { "Date": " 5/19/2023", "CO2": 19851.54 },
                { "Date": " 6/20/2023", "CO2": 17866.35 }
            ];


            const fremontData = [
                { "Date": " 12/25/2018", "CO2": 59462.19 },
                { "Date": " 1/24/2019", "CO2": 132825.06 },
                { "Date": " 2/25/2019", "CO2": 137052.36 },
                { "Date": " 3/26/2019", "CO2": 167263.83 },
                { "Date": " 4/25/2019", "CO2": 128444.04 },
                { "Date": " 5/27/2019", "CO2": 83272.32 },
                { "Date": " 6/25/2019", "CO2": 68762.25 },
                { "Date": " 7/25/2019", "CO2": 42942.78 },
                { "Date": " 8/26/2019", "CO2": 34823.07 },
                { "Date": " 9/25/2019", "CO2": 27082.17 },
                { "Date": " 10/24/2019", "CO2": 29805.21 },
                { "Date": " 11/24/2019", "CO2": 51781.68 },
                { "Date": " 12/25/2019", "CO2": 54625.5 },
                { "Date": " 1/26/2020", "CO2": 112067.37 },
                { "Date": " 2/25/2020", "CO2": 114526.89 },
                { "Date": " 3/25/2020", "CO2": 117980.1 },
                { "Date": " 4/26/2020", "CO2": 72687.6 },
                { "Date": " 5/26/2020", "CO2": 7301.7 },
                { "Date": " 6/24/2020", "CO2": 3294.0 },
                { "Date": " 7/23/2020", "CO2": 2064.24 },
                { "Date": " 8/24/2020", "CO2": 5199.03 },
                { "Date": " 9/23/2020", "CO2": 3755.16 },
                { "Date": " 10/25/2020", "CO2": 10667.07 },
                { "Date": " 11/23/2020", "CO2": 19840.86 },
                { "Date": " 12/23/2020", "CO2": 56651.31 },
                { "Date": " 1/25/2021", "CO2": 96344.49 },
                { "Date": " 2/23/2021", "CO2": 91423.35 },
                { "Date": " 3/24/2021", "CO2": 88532.13 },
                { "Date": " 4/24/2021", "CO2": 70647.66 },
                { "Date": " 5/25/2021", "CO2": 53907.51 },
                { "Date": " 6/24/2021", "CO2": 31689.0 },
                { "Date": " 7/24/2021", "CO2": 13371.36 },
                { "Date": " 8/25/2021", "CO2": 27192.51 },
                { "Date": " 9/23/2021", "CO2": 41950.68 },
                { "Date": " 10/24/2021", "CO2": 39698.58 },
                { "Date": " 11/23/2021", "CO2": 44340.63 },
                { "Date": " 12/23/2021", "CO2": 63342.75 },
                { "Date": " 1/25/2022", "CO2": 74538.21 },
                { "Date": " 2/24/2022", "CO2": 82101.63 },
                { "Date": " 3/24/2022", "CO2": 77448.48 },
                { "Date": " 4/25/2022", "CO2": 59094.84 },
                { "Date": " 5/24/2022", "CO2": 48167.85 },
                { "Date": " 6/24/2022", "CO2": 30612.12 },
                { "Date": " 7/24/2022", "CO2": 15677.55 },
                { "Date": " 8/24/2022", "CO2": 21794.61 },
                { "Date": " 9/23/2022", "CO2": 28991.46 },
                { "Date": " 10/24/2022", "CO2": 30318.12 },
                { "Date": " 11/23/2022", "CO2": 41697.33 },
                { "Date": " 12/23/2022", "CO2": 52138.35 },
                { "Date": " 1/25/2023", "CO2": 87954.99 },
                { "Date": " 2/23/2023", "CO2": 108775.56 },
                { "Date": " 3/24/2023", "CO2": 97347.3 },
                { "Date": " 4/24/2023", "CO2": 85362.24 },
                { "Date": " 5/24/2023", "CO2": 70927.5 },
                { "Date": " 6/23/2023", "CO2": 32875.62 }
            ];

            const lynbrookData = [
                { "Date": " 11/30/2018", "CO2": 66749.65 },
                { "Date": " 12/30/2018", "CO2": 93396.64 },
                { "Date": " 1/31/2019", "CO2": 116335.62 },
                { "Date": " 2/28/2019", "CO2": 109294.83 },
                { "Date": " 3/31/2019", "CO2": 91782.24 },
                { "Date": " 4/30/2019", "CO2": 121456.5 },
                { "Date": " 5/31/2019", "CO2": 140382.96 },
                { "Date": " 6/30/2019", "CO2": 157004.4 },
                { "Date": " 7/31/2019", "CO2": 147326.4 },
                { "Date": " 8/31/2019", "CO2": 128558.4 },
                { "Date": " 9/30/2019", "CO2": 126982.56 },
                { "Date": " 10/31/2019", "CO2": 143417.76 },
                { "Date": " 11/30/2019", "CO2": 154702.35 },
                { "Date": " 12/31/2019", "CO2": 138172.65 },
                { "Date": " 1/31/2020", "CO2": 124279.5 },
                { "Date": " 2/29/2020", "CO2": 104962.32 },
                { "Date": " 3/31/2020", "CO2": 83326.68 },
                { "Date": " 4/30/2020", "CO2": 57788.7 },
                { "Date": " 5/31/2020", "CO2": 23561.94 },
                { "Date": " 6/30/2020", "CO2": 14400.0 },
                { "Date": " 7/31/2020", "CO2": 17138.4 },
                { "Date": " 8/31/2020", "CO2": 26817.6 },
                { "Date": " 9/30/2020", "CO2": 20271.0 },
                { "Date": " 10/31/2020", "CO2": 37618.2 },
                { "Date": " 11/30/2020", "CO2": 59514.0 },
                { "Date": " 12/31/2020", "CO2": 107415.0 },
                { "Date": " 1/31/2021", "CO2": 115426.5 },
                { "Date": " 2/28/2021", "CO2": 106622.55 },
                { "Date": " 3/31/2021", "CO2": 106707.0 },
                { "Date": " 4/30/2021", "CO2": 84607.14 },
                { "Date": " 5/31/2021", "CO2": 60147.6 },
                { "Date": " 6/30/2021", "CO2": 44019.6 },
                { "Date": " 7/31/2021", "CO2": 18148.8 },
                { "Date": " 8/31/2021", "CO2": 26356.2 },
                { "Date": " 9/30/2021", "CO2": 49410.0 },
                { "Date": " 10/31/2021", "CO2": 67978.95 },
                { "Date": " 11/30/2021", "CO2": 74332.8 },
                { "Date": " 12/31/2021", "CO2": 81904.95 },
                { "Date": " 1/31/2022", "CO2": 99252.3 },
                { "Date": " 2/28/2022", "CO2": 109387.5 },
                { "Date": " 3/31/2022", "CO2": 100707.6 },
                { "Date": " 4/30/2022", "CO2": 79965.12 },
                { "Date": " 5/31/2022", "CO2": 51852.0 },
                { "Date": " 6/30/2022", "CO2": 35527.44 },
                { "Date": " 7/31/2022", "CO2": 12454.8 },
                { "Date": " 8/31/2022", "CO2": 15771.0 },
                { "Date": " 9/30/2022", "CO2": 31473.6 },
                { "Date": " 10/31/2022", "CO2": 48124.05 },
                { "Date": " 11/30/2022", "CO2": 73688.4 },
                { "Date": " 12/31/2022", "CO2": 106732.5 },
                { "Date": " 1/31/2023", "CO2": 106422.15 },
                { "Date": " 2/28/2023", "CO2": 124007.7 },
                { "Date": " 3/31/2023", "CO2": 113725.8 },
                { "Date": " 4/30/2023", "CO2": 90228.72 },
                { "Date": " 5/31/2023", "CO2": 74809.68 },
                { "Date": " 6/30/2023", "CO2": 33814.8 }
            ];

            let labels = montaVistaData.map(data => data['Date'].trim());
            let montaVistaEmissions = montaVistaData.map(data => data['Total CO2 Emissions']);
            let homesteadEmissions = homesteadData.map(data => data['Total Carbon Emissions']);
            let cupertinoEmissions = cupertinoData.map(data => data['CO2']);
            let fremontEmissions = fremontData.map(data => data['CO2']);
            let lynbrookEmissions = lynbrookData.map(data => data['CO2']);
            let districtOfficeEmissions = districtOfficeData.map(data => data['CO2']);


            let ctx = document.getElementById('co2Chart').getContext('2d');
            let co2Chart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: labels,
                    datasets: [
                        { label: 'MVHS', data: montaVistaEmissions, borderColor: '#2e7d32', backgroundColor: '#2e7d32', hidden: false },
                        { label: 'HHS', data: homesteadEmissions, borderColor: '#8e24aa', backgroundColor: '#8e24aa', hidden: true },
                        { label: 'Cupertino', data: cupertinoEmissions, borderColor: '#f39c12', backgroundColor: '#f39c12', hidden: true },
                        { label: 'Fremont', data: fremontEmissions, borderColor: '#e74c3c', backgroundColor: '#e74c3c', hidden: true },
                        { label: 'Lynbrook', data: lynbrookEmissions, borderColor: '#ffcocb', backgroundColor: '#ffcocb', hidden: true },
                        { label: 'District Office', data: districtOfficeEmissions, borderColor: '#3498db', backgroundColor: '#3498db', hidden: true }

                    ]
                },
                options: {
                    plugins: {
                        legend: {
                            display: true,
                            onClick: null
                        },
                        title: {
                            display: false,
                            font: {
                                size: 30
                            },
                            text: 'CO2e emissions, by school'
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true
                        }
                    }
                }
            });
            document.getElementById('toggleMontaVista').classList.toggle('bg-emerald-300');
            document.getElementById('toggleMontaVista').addEventListener('click', function () {
                this.classList.toggle('bg-emerald-300');
                toggleDataset(co2Chart, 'MVHS');
            });

            document.getElementById('toggleHomestead').addEventListener('click', function () {
                this.classList.toggle('bg-violet-200');
                toggleDataset(co2Chart, 'HHS');
            });

            document.getElementById('toggleCupertino').addEventListener('click', function () {
                this.classList.toggle('bg-orange-300');
                toggleDataset(co2Chart, 'Cupertino');
            });

            document.getElementById('toggleFremont').addEventListener('click', function () {
                this.classList.toggle('bg-red-300');
                toggleDataset(co2Chart, 'Fremont');
            });

            document.getElementById('toggleLynbrook').addEventListener('click', function () {
                this.classList.toggle('bg-purple-300');
                toggleDataset(co2Chart, 'Lynbrook');
            });
            document.getElementById('toggleDistrictOffice').addEventListener('click', function () {
                this.classList.toggle('bg-blue-300');
                toggleDataset(co2Chart, 'District Office');
            });


            function toggleDataset(chart, label) {
                const dataset = chart.data.datasets.find(d => d.label === label);
                dataset.hidden = !dataset.hidden;
                chart.update();
            }
        });

        document.addEventListener('DOMContentLoaded', function () {
            const bar_data = [
                { category: 'Monta Vista', kwh: 70, color: '#2e7d32' },
                { category: 'Homestead', kwh: 40, color: '#8e24aa' },
                { category: 'Lynbrook', kwh: 50, color: '#ffc0cb' },
                { category: 'Cupertino', kwh: 30, color: '#f39c12' },
                { category: 'Fremont', kwh: 36, color: '#e74c3c' }
            ];

            let ctx2 = document.getElementById('energyBarChart').getContext('2d');
            new Chart(ctx2, {
                type: 'bar',
                data: {
                    labels: bar_data.map(row => row.category),
                    datasets: [{
                        label: 'kWh used, by school',
                        data: bar_data.map(row => row.kwh),
                        backgroundColor: bar_data.map(row => row.color)
                    }]
                },
                options: {
                    indexAxis: 'y',
                    plugins: {
                        legend: {
                            labels: {
                                font: {
                                    size: 14
                                }
                            }
                        }
                    }
                }
            });


            let ctx3 = document.getElementById('usageChart').getContext('2d');
            new Chart(ctx3, {
                type: 'pie',
                data: {
                    labels: ["HVAC", "Lighting", "Electronics", "Refrigeration","Cooking","Water heating", "Other"],
                    datasets: [{
                        label: "Percentage:",
                        backgroundColor: ['#2e7d32','#8e24aa','#f39c12','#e74c3c','#ffc0cb','#3498db', '#666666','#ff66f5'],
                        data: [33.3, 25.5, 9.8, 6.3, 6.6, 3.2, 2,13.2]
                        // extra 5.5: 3 put into water heating (pools) and 2.5 put into refrigeration (cafeteria)
                        // we really need to consider replacing/removing this feature unless we can get some better data :(
                    }]
                },
                options: {
                    plugins: {
                        legend: {
                            labels: {
                                font: {
                                    size: 14
                                }
                            }
                        }
                    }
                }
            });
        });

        const reveals = document.querySelectorAll(".reveal");

        function reveal() {
            for (let i = 0; i < reveals.length; i++) {
                const windowHeight = window.innerHeight;
                const elementTop = reveals[i].getBoundingClientRect().top;
                const elementVisible = 150;

                if (elementTop < windowHeight - elementVisible) {
                    reveals[i].classList.add("active");
                } else {
                    reveals[i].classList.remove("active");
                }
            }
        }

        window.addEventListener("scroll", reveal);

        reveal();

        // Auto scroll and fade-out animation for the main title
        window.addEventListener('load', function () {
            const mainTitle = document.getElementById('main-title');
            const staticTitle = document.getElementById('static-title');
            setTimeout(() => {
                window.scrollBy({ top: window.innerHeight, behavior: 'smooth' });
            }, 1000);
            window.addEventListener('scroll', function () {
                if (window.scrollY > window.innerHeight) {
                    staticTitle.classList.add('visible');
                    mainTitle.style.display = 'none';
                } else {
                    staticTitle.classList.remove('visible');
                    mainTitle.style.display = 'block';
                }
            });
        });

        // Show navbar once scrolled to the bottom
        window.addEventListener('scroll', function () {
            const navbar = document.getElementById('navbar');
            if ((window.innerHeight + window.scrollY) >= document.body.offsetHeight) {
                navbar.classList.add('visible');
            }
        });

    </script>
</body>

</html>
